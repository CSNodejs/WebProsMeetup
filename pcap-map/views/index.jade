div#map

// scripts
script(src="http://code.leafletjs.com/leaflet-0.3.1/leaflet.js")
script(src='/javascripts/map.js')
script(src='/socket.io/socket.io.js')

script
  var socket = io.connect('http://localhost');
  socket.on('news', function (data) {
    console.log(data);
    socket.emit('my other event', { my: 'data' });
  });
  socket.on('newPoint', function (data) {
    console.log(data);
    var popup = new L.Popup();
    popup.setLatLng(new L.LatLng(data.lat, data.lng));
    popup.setContent("I am a new popup at lat:" + data.lat + ", lng:" + data.lng + "!");
    map.openPopup(popup);
  })